<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>forEach 메서드</title>
    <script>
      // 배열 만들기
      // 배열구성 [제목,주연,내용]
      const mv1 = [
        "조제",
        "한지민(조제), 남주혁(영석)",
        "자신을 ‘조제’로 불러달라는 그녀처음 만난 그날부터 ‘조제’는 ‘영석’에게 잊을 수 없는 이름으로 남는다.할머니와 단둘이 사는 집, 그곳에서 책을 읽고 상상하며자신만의 세계를 살고 있는 ‘조제’.우연히 만난 그녀에게 특별한 감정을 느끼기 시작한 ‘영석’은천천히, 그리고 솔직하게 다가가기 시작한다.하지만 처음 경험해보는 사랑이 설레는 한편 가슴 아픈 ‘조제’는자신에게 찾아온 낯선 감정을 밀어내는데…기억할 거야너와 함께한 모든 순간을",
      ];
      const mv2 = [
        "원더 우먼 1984",
        "갤 가돗(다이애나/원더우먼), 크리스 파인(스티브 트레버)",
        "1984년 모든 것이 활기찬 시대, 다이애나 프린스는 고고학자로서 인간들 사이에서 조용히 살고 있다. 단지 원더 우먼으로서 위기에 처한 사람을 구할 때만 빼고는. 그런 다이애나 앞에 거짓말처럼 죽었던 스티브 트레버가 나타나고, 거부할 수 없는 적마저 함께 찾아오는데…",
      ];
      const mv3 = [
        "도굴",
        "이제훈(동구), 조우진(존스박사)",
        "흙 맛만 봐도 보물을 찾아내는 타고난 천재 도굴꾼 강동구(이제훈).자칭 한국의 '인디아나 존스'로 불리는 고분벽화 도굴 전문가 존스 박사(조우진), 전설의 삽질 달인 삽다리(임원희)를 만나 환상(?)의 팀플레이를 자랑하며 위험천만하고도 짜릿한 도굴의 판을 키운다.",
      ];
      const mv4 = [
        "공조2: 인터내셔날",
        "현빈(림철령), 유해진(강진태)",
        "남한으로 숨어든 글로벌 범죄 조직을 잡기 위해 새로운 공조 수사에 투입된 북한 형사 ‘림철령’(현빈). 수사 중의 실수로 사이버수사대로 전출됐던 남한 형사 ‘강진태’(유해진)는 광수대 복귀를 위해 모두가 기피하는 ‘철령’의 파트너를 자청한다.  이렇게 다시 공조하게 된 ‘철령’과 ‘진태’! ‘철령’과 재회한 ‘민영’(임윤아)의 마음도 불타오르는 가운데, ‘철령’과 ‘진태’는 여전히 서로의 속내를 의심하면서도 나름 그럴싸한 공조 사를 펼친다. 드디어 범죄 조직 리더인 ‘장명준’(진선규)의 은신처를 찾아내려는 찰나, 미국에서 날아온 FBI 소속 ‘잭’(다니엘 헤니)이 그들 앞에 나타나는데…!  아직도 짠내 나는 남한 형사, 여전한 엘리트 북한 형사, 그리고 FBI 소속 해외파 형사까지! 각자의 목적으로 뭉친 그들의 짜릿한 공조 수사가 시작된다!",
      ];
      const mv5 = [
        "육사오(6/45)",
        "고경표(박천우), 이이경(리용호)",
        "우연히 1등 당첨 로또를 주운 말년 병장 ‘천우’. 심장이 터질듯한 설렘도 잠시, 순간의 실수로 바람을 타고 군사분계선을 넘어간 로또. 바사삭 부서진 멘탈을 부여잡고…기필코 다시 찾아야 한다!  우연히 남쪽에서 넘어온 1등 당첨 로또를 주운 북한 병사 ‘용호’. 이거이 남조선 인민의 고혈을 쥐어 짜내는 육사오라는 종이쪼가리란 말인가? 근데 무려 당첨금이 57억이라고?!  당첨금을 눈앞에서 놓칠 위기에 처한 ‘천우’와 북에선 한낱 종이쪼가리일 뿐일 로또를 당첨금으로 바꿔야 하는 ‘용호’. 여기에 예상치 못한 멤버들(?)까지 합류하고 57억을 사수하기 위한 3:3팀이 성되는데…",
      ];
      const mv6 = [
        "인터스텔라",
        "매튜 맥커너히(쿠퍼), 앤 해서웨이(브랜드)",
        "세계 각국의 정부와 경제가 완전히 붕괴된 미래가 다가온다. 지난 20세기에 범한 잘못이 전 세계적인 식량 부족을 불러왔고, NASA도 해체되었다. 이때 시공간에 불가사의한 틈이 열리고, 남은 자들에게는 이 곳을 탐험해 인류를 구해야 하는 임무가 지워진다. 사랑하는 가족들을 뒤로 한 채 인류라는 더 큰 가족을 위해, 그들은 이제 희망을 찾아 우주로 간다. 그리고 우린 답을 찾을 것이다. 늘 그랬듯이…",
      ];
      const mv7 = [
        "토르: 천둥의신",
        "크리스 햄스워스(토르), 나탈리 포트만(제인 포스터)",
        "신의 세계 ‘아스가르드’의 후계자로 강력한 파워를 지닌 천둥의 신 ‘토르’. 평소 거침없는 성격의 소유자인 토르는 신들간의 전쟁을 일으킨 죄로 신의 자격을 박탈당한 채 지구로 추방당한다. 힘의 원천인 해머 ‘묠니르’도 잃어버린 채 하루 아침에 평범한 인간이 되어버린 토르는 혼란스러움을 뒤로 한 채 지구에서 처음 마주친 과학자 ‘제인’ 일행과 함께 하며 인간 세계에 적응해 나가기 시작한다. 하지만 그 사이 아스가르드는 후계자 자리를 노리는 ‘로키’의 야욕으로 인해 혼란에 빠진다. 후계자로 지목된 자신의 형 토르를 제거하려는 로키는 마침내 지구에까지 무차별적인 공격을 시작한다. 자신의 존재 때문에 지구에 거대한 위험이 닥치고 있음을 알게 된 토르. 그런 그의 앞에 보다 강력한 파괴력의 상대가 등장하는데… 두 개의 세계, 한 명의 영웅 모두의 운명을 건 최후의 격돌이 시작된다!",
      ];

      /////////// 로드구역 /////////////////////////////////////
      // DOMContentLoaded -> html태그를 모두 그리면 발생이벤트
      window.addEventListener("DOMContentLoaded", () => {
        ////////////////////////////////
        /// querySelector 함수 만들기 ///
        // const qs = (x)=>{return document.querySelector(x)};
        // 화살표함수를 최대한 줄이기
        const qs = (x) => document.querySelector(x);
        const qsa = (x) => document.querySelectorAll(x);
        // 길게 써야하는 부분을 함수로 만들고
        // 이것을 호출하여 리턴받는 함수기능을 활용한다!
        // 위의 함수는 선택자객체를 컬렉션으로 만드는 코드를
        // 리턴하여 실제로 사용할때 함수명을 아주 짧게 줄이게해준다!

        // document.querySelectorAll을 매번쓰기 귀찮으니
        // qsa로 변수 선언을 하여 qsa만쓰면 되게 해준다!

        // 1. 로딩구역 확인
        console.log("로딩완료!");

        // 2. 대상선정
        // 2-1. 이벤트 대상 : .btngo
        // const btngo = document.querySelectorAll(".btngo");
        const btngo = qsa(".btngo");
        // console.log(btngo);

        // 2-2. 출력대상 : .minfo
        // const minfo = document.querySelectorAll(".minfo");
        const minfo = qsa(".minfo");
        // console.log(minfo);

        ///// 3. 버튼에 클릭이벤트 설정하기 /////

        // btngo.forEach((ele,idx,obj)=>{
        //   console.log("버튼셋팅!",ele,idx,obj);

        // btngo.forEach((헐,할)=>{
        //   console.log("버튼셋팅!",헐,할);

        btngo.forEach(ele=>{
          // console.log("버튼셋팅!",ele);

          // 1. 클릭이벤트 설정
          ele.onclick = () => {
            // 1. 버튼텍스트
            let btxt = ele.innerText;
            console.log(btxt);

            // 2. 버튼별 배열할당하기 : switch 사용
            // 버튼에 따른 배열변수 할당할 변수
            let data;

            // 버튼별 분기하기
            switch(btxt){
              case "공조2: 인터내셔날": data = mv4; break;
              case "육사오(6/45)": data = mv5; break;
              case "조제": data = mv1; break;
              case "원더 우먼 1984": data = mv2; break;
              case "도굴": data = mv3; break;
              case "인터스텔라": data = mv6; break;
              case "토르: 천둥의신": data = mv7; break;
            } ///// switch case문 /////

            // 매칭 데이터 찍어보기
            console.log(data);

            // 3. 출력요소에 배열 데이터 찍기
            // forEach메서드 사용!
            // data변수에 배열할당됨!
            data.forEach((val,idx)=>{
              // console.log("배열이양:",val,idx);

              // 배열의 순번이 담긴 idx를 사용하여
              // 같은 순번의 출력요소 minfo컬렉션
              // 순번에 적용하여 val에 담긴 배열값을
              // innerHTML로 출력한다!
              minfo[idx].innerHTML = val;
              
              
            }); /// forEach메서드 ///

            // 간단히 쓰면 아래와 같다~!
            // data.forEach((val,idx)=>minfo[idx].innerHTML = val);
            
          }; ///// 클릭이벤트 함수 /////

        }); /// forEach메서드 ///

    /************************************ 
      [ 배열과 컬렉션을 위한 forEach() ]
      forEach()는 
      배열과 컬렉션을 위한 JS메서드임!
      -> ES5에서 새롭게 등장!(배열메서드!)

      1. 컬렉션에 사용시

      컬렉션.forEach(
          function(ele,idx,obj){코드})
      ________________________________

      컬렉션.forEach(
          (ele,idx,obj) => {코드})

      _______
      전달변수
      1) ele -> 첫번째 전달변수 : 요소자신
      2) idx -> 두번째 전달변수 : 순번
      3) obj -> 세번째 전달변수 : 전체컬렉션

      *****************************
      
      2. 배열에 사용시

      배열.forEach(
          function(val,idx,obj){코드})
      ________________________________

      배열.forEach(
          (val,idx,obj) => {코드})

      _______
      전달변수
      1) val -> 첫번째 전달변수 : 배열값
      2) idx -> 두번째 전달변수 : 순번
      3) obj -> 세번째 전달변수 : 전체배열

      ========================

      공통사항)
      - 전달변수의 순서와 개수가 중요함
      - 전달변수명은 어떻게 지어도 무관
      - 값이나 요소만 쓰려면 변수를 하나만씀
      - 순번까지 쓰려면 변수를 두개씀
      -> 보통 변수를 2개까지 많이 씀
      - 명령어를 사용하여 로직을 수행하는 것은
      함수 중괄호안에 코딩하면 된다!

    ************************************/
      }); //////////////// 로드구역 /////////////////////////////
      //////////////////////////////////////////////////////////
    </script>
    <style>
      .btns {
        text-align: center;
        padding: 20px;
      }

      .btns > button {
        font-size: 30px;
        font-weight: bold;
      }

      .wrap {
        max-width: 800px;
        margin: 0 auto;
        padding: 10px;
        border: 4px double #555;
        border-radius: 10px;
        font-size: 24px;
        line-height: 2;
      }

      .wrap > div {
        color: #444;
      }

      h1,
      h2,
      h3 {
        text-align: center;
        border-top: 2px dashed #ccc;
        border-bottom: 2px dashed #ccc;
        font-size: 35px;
      }

      h1 + div {
        /* +형제선택자
            h1+div 앞에 형제로 h1 다음에 오는 div */
        font-size: 33px;
        font-weight: bold;
        text-align: center;
      }

      h2 + div {
        /* +형제선택자
            h2+div 앞에 형제로 h2 다음에 오는 div */
        font-size: 28px;
        font-weight: bold;
        text-align: center;
      }

      /* 정보출력박스 */
      .minfo {
        background-color: #d0ffd3;
      }
    </style>
  </head>

  <body>
    <!-- 버튼그룹 -->
    <div class="btns">
      <button class="btngo">공조2: 인터내셔날</button>
      <button class="btngo">육사오(6/45)</button>
      <button class="btngo">조제</button>
      <button class="btngo">원더 우먼 1984</button>
      <button class="btngo">도굴</button> <br />
      <button class="btngo">인터스텔라</button>
      <button class="btngo">토르: 천둥의신</button>
    </div>
    <!-- 내용박스 -->
    <div class="wrap">
      <!--1.영화제목-->
      <h1>영화제목</h1>
      <div class="minfo"></div>

      <!--2.주연배우-->
      <h2>주연배우</h2>
      <div class="minfo"></div>

      <!--3.영화스토리-->
      <h3>영화스토리</h3>
      <div class="minfo"></div>
    </div>
  </body>
</html>
